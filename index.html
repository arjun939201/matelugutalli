<!DOCTYPE html>
<html lang="te">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>తెలుగు మాటోలి - Vocabulary Study</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
:root {
  --primary: #1976d2;
  --accent: #ffb300;
  --background: #f5f7fa;
  --surface: #fff;
  --card-radius: 18px;
  --shadow: 0 2px 12px rgba(40,40,40,0.13);
  --text-main: #222;
  --text-light: #717171;
  --section-gap: 20px;
  --header-height: 88px;
  --table-border: #e2e8f0;
}
*{box-sizing:border-box;}
body{font-family:'Roboto', Arial, sans-serif;background:var(--background);margin:0;padding:0;color:var(--text-main);}
header{width:100%;background:linear-gradient(90deg,#1976d2 80%,#144b8b 100%);color:#fff;padding:24px 0 18px 0;box-shadow:0 2px 10px rgba(30,30,60,0.11);border-bottom-left-radius:40px;border-bottom-right-radius:40px;display:flex;align-items:center;justify-content:center;min-height:var(--header-height);}
header .material-icons{font-size:3em;margin-right:18px;opacity:0.85;}
header h1{font-size:2.4em;font-weight:700;margin:0;text-shadow:0 2px 10px #144b8b44;letter-spacing:1.5px;line-height:1.1;}
.container{max-width:900px;margin:0 auto;padding:0 2vw;}
.search-card{background:var(--surface);box-shadow:var(--shadow);border-radius:var(--card-radius);margin:-25px auto var(--section-gap) auto;padding:20px 28px;display:flex;align-items:center;gap:12px;position:relative;z-index:3;}
.search-card input[type="text"]{flex:1;padding:14px 18px;font-size:1.1em;border:1px solid #e2e8f0;border-radius:10px;background:#f2f3f4;outline:none;transition:border 0.18s;}
.search-card input[type="text"]:focus{border:1.5px solid var(--primary);background:#eaf3ff;}
.search-card button{background:var(--primary);color:#fff;border:none;border-radius:10px;padding:14px 22px;font-size:1.14em;font-weight:500;cursor:pointer;box-shadow:0 2px 7px #1976d220;transition:background 0.23s;display:flex;align-items:center;gap:6px;}
.search-card button:hover{background:#125cab;}
.search-hint{font-size:0.98em;color:#888;margin-top:4px;}
.accordion{margin:var(--section-gap) 0;}
.accordion-section{background:var(--surface);box-shadow:var(--shadow);border-radius:var(--card-radius);margin:16px 0;overflow:hidden;transition:box-shadow 0.2s;border:1px solid var(--table-border);}
.accordion-header{display:flex;align-items:center;gap:12px;padding:18px 28px;cursor:pointer;font-size:1.19em;font-weight:600;color:var(--primary);background:#eef1f7;border-bottom:1px solid #e2e8f0;transition:background 0.2s;user-select:none;}
.accordion-header .material-icons{color:var(--accent);}
.accordion-header.active{background:#dbeafc;}
.accordion-content{padding:0 0 22px 0;display:none;animation:fade-in 0.5s;}
.accordion-content.active{display:block;}
.vocab-table{width:100%;border-collapse:collapse;margin:0;}
.vocab-table th,.vocab-table td{padding:11px 18px;text-align:left;border-bottom:1px solid var(--table-border);}
.vocab-table th{background:#f6f7fa;font-weight:500;color:#1976d2;font-size:1.07em;letter-spacing:0.5px;}
.vocab-table td.word-col{font-size:1.17em;font-weight:600;color:var(--text-main);min-width:80px;}
.vocab-table td.info-col{font-size:1em;color:var(--text-light);font-style:italic;}
.vocab-table td.eng-col{color:var(--text-light);font-size:1em;}
.sound-btn{background:var(--accent);color:#fff;border:none;border-radius:50%;width:34px;height:34px;font-size:1.18em;cursor:pointer;box-shadow:0 2px 8px #ffb30033;display:flex;align-items:center;justify-content:center;transition:background 0.18s;}
.sound-btn:hover{background:#ff8800;}
.dropdown-content{background:#f6f7fa;padding:10px 20px;font-size:0.98em;color:#333;border-bottom:1px solid #e2e8f0;display:none;animation:fade-in 0.3s;}
.dropdown-content.active{display:table-row;}
.dropdown-toggle{background:#eee;border:none;cursor:pointer;font-size:1em;color:var(--primary);}
.pronunciation{font-style:italic;color:#1976d2;}
.example{color:#222;}
.transliteration-btn{background:var(--accent);color:#fff;border:none;border-radius:8px;padding:4px 10px;font-size:0.98em;cursor:pointer;margin-left:6px;transition:background 0.18s;vertical-align:middle;display:inline-flex;align-items:center;}
.transliteration-btn:hover{background:#ff8800;}
@keyframes fade-in{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:none;}}
/* Voice Popup */
#voicePopup{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);align-items:center;justify-content:center;z-index:999;}
#voicePopup .popup-content{background:var(--surface);padding:30px;border-radius:20px;max-width:400px;width:90%;text-align:center;box-shadow:var(--shadow);}
#voicePopup button.close-popup{margin-top:20px;background:#ff5252;color:#fff;border:none;padding:10px 18px;border-radius:10px;cursor:pointer;font-weight:600;transition:background 0.2s;}
#voicePopup button.close-popup:hover{background:#d43f3f;}
@media(max-width:700px){.container{padding:0 1vw;}.accordion-header,.vocab-table th,.vocab-table td{padding:10px 6px;}.search-card{padding:12px 5px;}}
@media(max-width:500px){header .material-icons{font-size:1.5em;}header h1{font-size:1.05em;}.search-card button,.search-card input[type="text"]{font-size:0.95em;}}
</style>
</head>
<body>
<header>
  <span class="material-icons">auto_stories</span>
  <h1>తెలుగు మాటోలి</h1>
</header>
<div class="container">
  <div class="search-card">
    <input type="text" id="searchInput" placeholder="వర్డ్/ఇంగ్లీష్/వివరణ కోసం వెతకండి...">
    <button onclick="searchWord()"><span class="material-icons" style="vertical-align:middle;">search</span> వెతుకు</button>
  </div>
  <div class="search-hint">ఉదాహరణ: "go", "నువ్వు", "stand", "inside", "ఎక్కడ?"</div>
  <div class="accordion-section" id="searchSection" style="display:none;">
    <div class="accordion-header active">
      <span class="material-icons">search</span> ఫలితాలు
    </div>
    <div class="accordion-content active" id="searchResult">ఇంకా వెతకలేదు.</div>
  </div>

  <div class="accordion">
    <!-- Cards will be rendered here dynamically -->
    <div class="accordion-section">
      <div class="accordion-header" onclick="toggleAccordion(this)">
        <span class="material-icons">person</span> Personal Pronouns
      </div>
      <div class="accordion-content" id="pronounsTable"></div>
    </div>
    <div class="accordion-section">
      <div class="accordion-header" onclick="toggleAccordion(this)">
        <span class="material-icons">bolt</span> Common Verbs
      </div>
      <div class="accordion-content" id="verbsTable"></div>
    </div>
    <div class="accordion-section">
      <div class="accordion-header" onclick="toggleAccordion(this)">
        <span class="material-icons">people</span> Nouns
      </div>
      <div class="accordion-content" id="nounsTable"></div>
    </div>
    <div class="accordion-section">
      <div class="accordion-header" onclick="toggleAccordion(this)">
        <span class="material-icons">palette</span> Adjectives
      </div>
      <div class="accordion-content" id="adjectivesTable"></div>
    </div>
    <div class="accordion-section">
      <div class="accordion-header" onclick="toggleAccordion(this)">
        <span class="material-icons">looks_one</span> Numbers
      </div>
      <div class="accordion-content" id="numbersTable"></div>
    </div>
    <div class="accordion-section">
      <div class="accordion-header" onclick="toggleAccordion(this)">
        <span class="material-icons">chat</span> Useful Phrases
      </div>
      <div class="accordion-content" id="phrasesTable"></div>
    </div>
  </div>
</div>

<!-- Voice Test Popup -->
<div id="voicePopup">
  <div class="popup-content">
    <h3>Voice Test</h3>
    <p id="voiceWord">Word: </p>
    <button onclick="startVoiceTest()">Speak Now</button>
    <button class="close-popup" onclick="closeVoicePopup()">Close</button>
    <p id="voiceResult" style="margin-top:10px;font-weight:600;"></p>
  </div>
</div>

<script>
// Accordion toggle
function toggleAccordion(header) {
  document.querySelectorAll('.accordion-header').forEach(h => {if(h!==header) h.classList.remove('active');});
  document.querySelectorAll('.accordion-content').forEach(c => {if(c.previousElementSibling!==header) c.classList.remove('active');});
  header.classList.toggle('active');
  let content = header.nextElementSibling;
  content.classList.toggle('active');
}

// Sound function
function playSound(text, lang='te-IN', rate=0.93){if('speechSynthesis'in window){var msg=new SpeechSynthesisUtterance();msg.text=text;msg.lang=lang;msg.rate=rate;window.speechSynthesis.speak(msg);}else{alert("Speech not supported.");}}
function playTransliterationSound(text, langHint='en-US', rate=0.97){if('speechSynthesis'in window){var msg=new SpeechSynthesisUtterance();msg.text=text;msg.lang=langHint;msg.rate=rate;window.speechSynthesis.speak(msg);}else{alert("Speech not supported.");}}

// Dropdown toggle
function toggleDropdown(idx,target){document.getElementById(`${target}-dropdown-${idx}`).classList.toggle('active');}

// Voice popup
let currentVoiceWord="";
function openVoicePopup(word){currentVoiceWord=word;document.getElementById('voiceWord').innerText='Word: '+word;document.getElementById('voiceResult').innerText='';document.getElementById('voicePopup').style.display='flex';}
function closeVoicePopup(){document.getElementById('voicePopup').style.display='none';}
function startVoiceTest(){
  if(!('webkitSpeechRecognition'in window||'SpeechRecognition'in window)){alert('Voice recognition not supported.');return;}
  let recognition= new (window.SpeechRecognition||window.webkitSpeechRecognition)();
  recognition.lang='te-IN'; recognition.interimResults=false; recognition.maxAlternatives=1;
  recognition.start();
  recognition.onresult=function(event){
    let spoken=event.results[0][0].transcript.trim();
    if(spoken===currentVoiceWord){document.getElementById('voiceResult').innerText='✅ Perfect!';}else{document.getElementById('voiceResult').innerText='❌ You said: '+spoken;}}
  recognition.onerror=function(e){document.getElementById('voiceResult').innerText='Error: '+e.error;}
}

// Example content data
const personalPronouns=[{word:"నేను",equivalent:"I",meaning:"nēnu",example:"నేను పుస్తకం చదువుతున్నాను.",pronunciation:"neːnu"},{word:"మేము",equivalent:"We",meaning:"mēmu",example:"మేము బయటికి వెళ్ళాము.",pronunciation:"meːmu"}];
const verbs=[{word:"చేయు",equivalent:"do",meaning:"cheyyu",example:"నువ్వు పని చేయు.",pronunciation:"tʃeɪyu"},{word:"వెళ్ళు",equivalent:"go",meaning:"veḷḷu",example:"వెళ్ళు ఇంటికి.",pronunciation:"veɭɭu"}];
const nouns=[{word:"పుస్తకం",equivalent:"Book",meaning:"pustakam",example:"నేను పుస్తకం చదువుతున్నాను.",pronunciation:"pustakam"},{word:"పెద్దవాడు",equivalent:"Elder",meaning:"pedda vaadu",example:"
