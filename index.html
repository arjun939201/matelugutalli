<!DOCTYPE html>
<html lang="te">
<head>
  <meta charset="UTF-8">
  <title>తెలుగు మాటోలి - Vocabulary Study</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    :root {
      --primary: #1976d2;
      --accent: #ffb300;
      --background: #f5f7fa;
      --surface: #fff;
      --card-radius: 18px;
      --shadow: 0 2px 12px rgba(40,40,40,0.13);
      --text-main: #222;
      --text-light: #717171;
      --section-gap: 20px;
      --header-height: 88px;
      --table-border: #e2e8f0;
    }
    * { box-sizing: border-box; }
    body {
      font-family: 'Roboto', Arial, sans-serif;
      background: var(--background);
      margin: 0;
      padding: 0;
      color: var(--text-main);
    }
    header {
      width: 100%;
      background: linear-gradient(90deg, #1976d2 80%, #144b8b 100%);
      color: #fff;
      padding: 24px 0 18px 0;
      box-shadow: 0 2px 10px rgba(30,30,60,0.11);
      border-bottom-left-radius: 40px;
      border-bottom-right-radius: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: var(--header-height);
    }
    header .material-icons {
      font-size: 3em;
      margin-right: 18px;
      opacity: 0.85;
    }
    header h1 {
      font-size: 2.4em;
      font-weight: 700;
      margin: 0;
      text-shadow: 0 2px 10px #144b8b44;
      letter-spacing: 1.5px;
      line-height: 1.1;
    }
    .container {
      max-width: 850px;
      margin: 0 auto;
      padding: 0 2vw;
    }
    .search-card {
      background: var(--surface);
      box-shadow: var(--shadow);
      border-radius: var(--card-radius);
      margin: -25px auto var(--section-gap) auto;
      padding: 20px 28px;
      display: flex;
      align-items: center;
      gap: 12px;
      position: relative;
      z-index: 3;
    }
    .search-card input[type="text"] {
      flex: 1;
      padding: 14px 18px;
      font-size: 1.1em;
      border: 1px solid #e2e8f0;
      border-radius: 10px;
      background: #f2f3f4;
      outline: none;
      transition: border 0.18s;
    }
    .search-card input[type="text"]:focus {
      border: 1.5px solid var(--primary);
      background: #eaf3ff;
    }
    .search-card button {
      background: var(--primary);
      color: #fff;
      border: none;
      border-radius: 10px;
      padding: 14px 22px;
      font-size: 1.14em;
      font-weight: 500;
      cursor: pointer;
      box-shadow: 0 2px 7px #1976d220;
      transition: background 0.23s;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .search-card button:hover { background: #125cab; }
    .search-hint {
      font-size: 0.98em;
      color: #888;
      margin-top: 4px;
    }
    .accordion {
      margin: var(--section-gap) 0;
    }
    .accordion-section {
      background: var(--surface);
      box-shadow: var(--shadow);
      border-radius: var(--card-radius);
      margin: 16px 0;
      overflow: hidden;
      transition: box-shadow 0.2s;
      border: 1px solid var(--table-border);
    }
    .accordion-header {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 18px 28px;
      cursor: pointer;
      font-size: 1.19em;
      font-weight: 600;
      color: var(--primary);
      background: #eef1f7;
      border-bottom: 1px solid #e2e8f0;
      transition: background 0.2s;
      user-select: none;
    }
    .accordion-header .material-icons { color: var(--accent); }
    .accordion-header.active { background: #dbeafc; }
    .accordion-content {
      padding: 0 0 22px 0;
      display: none;
      animation: fade-in 0.5s;
    }
    .accordion-content.active {
      display: block;
    }
    .vocab-table {
      width: 100%;
      border-collapse: collapse;
      margin: 0;
    }
    .vocab-table th, .vocab-table td {
      padding: 11px 18px;
      text-align: left;
      border-bottom: 1px solid var(--table-border);
    }
    .vocab-table th {
      background: #f6f7fa;
      font-weight: 500;
      color: #1976d2;
      font-size: 1.07em;
      letter-spacing: 0.5px;
    }
    .vocab-table td.word-col {
      font-size: 1.17em;
      font-weight: 600;
      color: var(--text-main);
      min-width: 80px;
    }
    .vocab-table td.info-col {
      font-size: 1em;
      color: var(--text-light);
      font-style: italic;
    }
    .vocab-table td.eng-col {
      color: var(--text-light);
      font-size: 1em;
    }
    .sound-btn {
      background: var(--accent);
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 34px;
      height: 34px;
      font-size: 1.18em;
      cursor: pointer;
      box-shadow: 0 2px 8px #ffb30033;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.18s;
    }
    .sound-btn:hover { background: #ff8800; }
    @keyframes fade-in { from{opacity:0;transform:translateY(20px);} to{opacity:1;transform:none;} }
    /* Responsive */
    @media (max-width: 700px) {
      .container { padding: 0 1vw; }
      header h1 { font-size: 1.3em; }
      .accordion-header, .vocab-table th, .vocab-table td { padding: 10px 6px; }
      .search-card { padding: 12px 5px; }
    }
    @media (max-width: 500px) {
      header .material-icons { font-size: 1.5em; }
      header h1 { font-size: 1.05em; }
      .search-card button, .search-card input[type="text"] { font-size: 0.95em; }
    }
    .dropdown-content {
      background: #f6f7fa;
      padding: 10px 20px;
      font-size: 0.98em;
      color: #333;
      border-bottom: 1px solid #e2e8f0;
      display: none;
      animation: fade-in 0.3s;
    }
    .dropdown-content.active { display: table-row; }
    .dropdown-toggle { background: #eee; border: none; cursor: pointer; font-size:1em; color: var(--primary);}
    .pronunciation { font-style: italic; color: #1976d2; }
    .example { color: #222; }
    .transliteration-btn {
      background: var(--accent);
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 4px 10px;
      font-size: 0.98em;
      cursor: pointer;
      margin-left: 6px;
      transition: background 0.18s;
      vertical-align: middle;
      display: inline-flex;
      align-items: center;
    }
    .transliteration-btn:hover { background: #ff8800; }
  </style>
</head>
<body>
  <header>
    <span class="material-icons">auto_stories</span>
    <h1>తెలుగు మాటోలి</h1>
  </header>
  <div class="container">
    <!-- Search Section -->
    <div class="search-card">
      <input type="text" id="searchInput" placeholder="వర్డ్/ఇంగ్లీష్/వివరణ కోసం వెతకండి...">
      <button onclick="searchWord()"><span class="material-icons" style="vertical-align:middle;">search</span> వెతుకు</button>
    </div>
    <div class="search-hint">ఉదాహరణ: "go", "నువ్వు", "stand", "inside", "ఎక్కడ?"</div>
    <!-- Search Result -->
    <div class="accordion-section" id="searchSection" style="display:none;">
      <div class="accordion-header active">
        <span class="material-icons">search</span> ఫలితాలు
      </div>
      <div class="accordion-content active" id="searchResult">ఇంకా వెతకలేదు.</div>
    </div>

    <div class="accordion">
      <!-- Personal Pronouns -->
      <div class="accordion-section">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span class="material-icons">person</span> Personal Pronouns
        </div>
        <div class="accordion-content" id="pronounsTable"></div>
      </div>
      <!-- Demonstratives -->
      <div class="accordion-section">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span class="material-icons">visibility</span> Demonstratives
        </div>
        <div class="accordion-content" id="demonstrativesTable"></div>
      </div>
      <!-- Interrogatives -->
      <div class="accordion-section">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span class="material-icons">help</span> Interrogatives
        </div>
        <div class="accordion-content" id="interrogativesTable"></div>
      </div>
      <!-- Common Verbs -->
      <div class="accordion-section">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span class="material-icons">bolt</span> Common Verbs
        </div>
        <div class="accordion-content" id="verbsTable"></div>
      </div>
      <!-- Postpositions -->
      <div class="accordion-section">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span class="material-icons">link</span> Postpositions
        </div>
        <div class="accordion-content" id="postpositionsTable"></div>
      </div>
      <!-- Numbers -->
      <div class="accordion-section">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span class="material-icons">looks_one</span> Numbers
        </div>
        <div class="accordion-content" id="numbersTable"></div>
      </div>
      <!-- Useful Phrases -->
      <div class="accordion-section">
        <div class="accordion-header" onclick="toggleAccordion(this)">
          <span class="material-icons">chat</span> Useful Phrases
        </div>
        <div class="accordion-content" id="phrasesTable"></div>
      </div>
    </div>
  </div>
  <script>
    // Accordion logic
    function toggleAccordion(header) {
      document.querySelectorAll('.accordion-header').forEach(h => {
        if (h !== header) h.classList.remove('active');
      });
      document.querySelectorAll('.accordion-content').forEach(content => {
        if (content.previousElementSibling !== header) content.classList.remove('active');
      });
      header.classList.toggle('active');
      let content = header.nextElementSibling;
      if (content.classList.contains('active')) {
        content.classList.remove('active');
      } else {
        content.classList.add('active');
      }
    }

    // Sound logic
    function playSound(text, lang = 'te-IN', rate = 0.93) {
      if ('speechSynthesis' in window) {
        var msg = new SpeechSynthesisUtterance();
        msg.text = text;
        msg.lang = lang;
        msg.rate = rate;
        window.speechSynthesis.speak(msg);
      } else {
        alert("Speech not supported in this browser.");
      }
    }

    // Sound logic for transliteration (example)
    function playTransliterationSound(text, langHint = 'en-US', rate = 0.97) {
      if ('speechSynthesis' in window) {
        var msg = new SpeechSynthesisUtterance();
        msg.text = text;
        msg.lang = langHint;
        msg.rate = rate;
        window.speechSynthesis.speak(msg);
      } else {
        alert("Speech not supported in this browser.");
      }
    }

    // DATA SECTION
    // ... [same as before: personalPronouns, demonstratives, interrogatives, verbs, postpositions, numbers, phrases] ...
    // (Keep the data definitions as in your original file. Truncated here for brevity.)

    // Combine all for search
    const allVocabData = [
      ...personalPronouns,
      ...demonstratives,
      ...interrogatives,
      ...verbs,
      ...postpositions,
      ...numbers,
      ...phrases
    ];

    // Render vocab table with dropdowns and sound for both word and example (with transliteration)
    function renderVocabTable(targetId, data) {
      let rows = data.map((e, idx) => `
        <tr>
          <td class="word-col">${e.word}</td>
          <td class="info-col">${e.equivalent}</td>
          <td class="eng-col">${e.meaning}</td>
          <td>
            <button class="sound-btn" onclick="playSound('${e.word}')">
              <span class="material-icons">volume_up</span>
            </button>
            <button class="dropdown-toggle" onclick="toggleDropdown(${idx}, '${targetId}')">
              ▼
            </button>
          </td>
        </tr>
        <tr class="dropdown-content" id="${targetId}-dropdown-${idx}">
          <td colspan="4">
            <span class="pronunciation"><b>Pronunciation:</b> ${e.pronunciation}
              <button class="transliteration-btn" title="Play Transliteration" onclick="playTransliterationSound('${e.meaning}')">
                <span class="material-icons" style="font-size:1em;">volume_up</span>
              </button>
            </span>
            <br>
            <span class="example"><b>Example:</b> ${e.example}
              <button class="transliteration-btn" title="Play Example" onclick="playSound('${e.example}')">
                <span class="material-icons" style="font-size:1em;">volume_up</span>
              </button>
            </span>
            <br>
            <span class="pronunciation"><b>Transliteration:</b> ${e.meaning}</span>
          </td>
        </tr>
      `).join("");
      document.getElementById(targetId).innerHTML =
        `<table class="vocab-table">
          <thead>
            <tr>
              <th>Telugu</th><th>English</th><th>Transliteration</th><th>🔊 / ▼</th>
            </tr>
          </thead>
          <tbody>
            ${rows}
          </tbody>
        </table>`;
    }

    function toggleDropdown(idx, target) {
      let row = document.getElementById(`${target}-dropdown-${idx}`);
      row.classList.toggle('active');
    }

    // Initial render for all sections
    renderVocabTable("pronounsTable", personalPronouns);
    renderVocabTable("demonstrativesTable", demonstratives);
    renderVocabTable("interrogativesTable", interrogatives);
    renderVocabTable("verbsTable", verbs);
    renderVocabTable("postpositionsTable", postpositions);
    renderVocabTable("numbersTable", numbers);
    renderVocabTable("phrasesTable", phrases);

    // Search Functionality
    function searchWord() {
      let query = document.getElementById("searchInput").value.trim().toLowerCase();
      let resultBox = document.getElementById("searchResult");
      let section = document.getElementById("searchSection");
      section.style.display = "block";
      if (!query) {
        resultBox.innerHTML = "<span style='color:#b00;'>ఏదైనా వ్రాయండి...</span>";
        return;
      }
      let results = allVocabData.filter(
        e => e.word.toLowerCase().includes(query) ||
             e.equivalent.toLowerCase().includes(query) ||
             e.meaning.toLowerCase().includes(query)
      );
      if (results.length > 0) {
        resultBox.innerHTML = `<table class="vocab-table">
          <thead>
            <tr><th>Telugu</th><th>English</th><th>Transliteration</th><th>🔊 / ▼</th></tr>
          </thead>
          <tbody>
            ${results.map((e, idx) =>
              `<tr>
                <td class="word-col">${e.word}</td>
                <td class="info-col">${e.equivalent}</td>
                <td class="eng-col">${e.meaning}</td>
                <td>
                  <button class="sound-btn" onclick="playSound('${e.word}')"><span class="material-icons">volume_up</span></button>
                  <button class="dropdown-toggle" onclick="toggleDropdown(${idx}, 'searchResult')">▼</button>
                </td>
              </tr>
              <tr class="dropdown-content" id="searchResult-dropdown-${idx}">
                <td colspan="4">
                  <span class="pronunciation"><b>Pronunciation:</b> ${e.pronunciation}
                    <button class="transliteration-btn" title="Play Transliteration" onclick="playTransliterationSound('${e.meaning}')">
                      <span class="material-icons" style="font-size:1em;">volume_up</span>
                    </button>
                  </span>
                  <br>
                  <span class="example"><b>Example:</b> ${e.example}
                    <button class="transliteration-btn" title="Play Example" onclick="playSound('${e.example}')">
                      <span class="material-icons" style="font-size:1em;">volume_up</span>
                    </button>
                  </span>
                  <br>
                  <span class="pronunciation"><b>Transliteration:</b> ${e.meaning}</span>
                </td>
              </tr>`
            ).join("")}
          </tbody>
        </table>`;
      } else {
        resultBox.innerHTML = "<span style='color:#b00;'>❌ ఈ పదం దొరకలేదు.</span>";
      }
    }
  </script>
</body>
</html>
