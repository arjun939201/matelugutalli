<!DOCTYPE html>
<html lang="te">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞Æ‡∞æ‡∞ü‡±ã‡∞≤‡∞ø - Vocabulary Master</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
:root {
  --primary: #1976d2;
  --accent: #ffb300;
  --background: #f5f7fa;
  --surface: #fff;
  --card-radius: 18px;
  --shadow: 0 2px 12px rgba(40,40,40,0.13);
  --text-main: #222;
  --text-light: #717171;
  --section-gap: 20px;
  --header-height: 88px;
  --table-border: #e2e8f0;
}
* { box-sizing: border-box; }
body {
  font-family: 'Roboto', Arial, sans-serif;
  background: var(--background);
  margin: 0;
  padding: 0;
  color: var(--text-main);
}
header {
  width: 100%;
  background: linear-gradient(90deg, #1976d2 80%, #144b8b 100%);
  color: #fff;
  padding: 24px 0 18px 0;
  box-shadow: 0 2px 10px rgba(30,30,60,0.11);
  border-bottom-left-radius: 40px;
  border-bottom-right-radius: 40px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  min-height: var(--header-height);
  padding: 0 2vw;
}
header h1 {
  font-size: 2em;
  font-weight: 700;
  margin: 0;
}
header .material-icons { font-size: 2.5em; vertical-align: middle; margin-right: 12px; }
#modeToggle {
  cursor: pointer;
  font-size: 1.8em;
}
.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 0 2vw;
}
.search-card {
  background: var(--surface);
  box-shadow: var(--shadow);
  border-radius: var(--card-radius);
  margin: -25px auto var(--section-gap) auto;
  padding: 20px 28px;
  display: flex;
  align-items: center;
  gap: 12px;
  position: relative;
  z-index: 3;
}
.search-card input[type="text"] {
  flex: 1;
  padding: 14px 18px;
  font-size: 1.1em;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  background: #f2f3f4;
  outline: none;
  transition: border 0.18s;
}
.search-card input[type="text"]:focus {
  border: 1.5px solid var(--primary);
  background: #eaf3ff;
}
.search-card button {
  background: var(--primary);
  color: #fff;
  border: none;
  border-radius: 10px;
  padding: 14px 22px;
  font-size: 1.14em;
  font-weight: 500;
  cursor: pointer;
  box-shadow: 0 2px 7px #1976d220;
  transition: background 0.23s;
  display: flex;
  align-items: center;
  gap: 6px;
}
.search-card button:hover { background: #125cab; }
.search-hint { font-size: 0.95em; color: #888; margin-top: 4px; }

.accordion { margin: var(--section-gap) 0; }
.accordion-section { margin: 16px 0; border-radius: var(--card-radius); overflow: hidden; box-shadow: var(--shadow); border: 1px solid var(--table-border); background: var(--surface);}
.accordion-header { padding: 18px 28px; cursor: pointer; font-size: 1.15em; font-weight: 600; display: flex; align-items: center; justify-content: space-between; background:#eef1f7; transition: background 0.2s; user-select: none;}
.accordion-header.active { background: #dbeafc; }
.accordion-content { padding: 0 0 22px 0; display: none; animation: fade-in 0.5s; }
.accordion-content.active { display: block; }

.vocab-card { background: #fff; padding: 16px; margin:12px 0; border-radius: 14px; box-shadow: var(--shadow); position: relative; transition: transform 0.18s; }
.vocab-card:hover { transform: translateY(-2px); }
.vocab-word { font-size: 1.25em; font-weight: 700; color: var(--primary);}
.vocab-meaning { font-size: 1em; color: var(--text-light); margin-top: 4px;}
.vocab-translit { font-style: italic; font-size:0.95em; color:#555; margin-top:2px;}
.card-buttons { margin-top: 6px; display: flex; gap: 6px;}
.sound-btn { background: var(--accent); color: #fff; border:none; border-radius:50%; width:34px; height:34px; display:flex; align-items:center; justify-content:center; cursor:pointer; box-shadow:0 2px 8px #ffb30033; transition:0.18s;}
.sound-btn:hover { background:#ff8800; }
.transliteration-btn { background: var(--primary); color:#fff; border:none; border-radius:8px; padding:4px 8px; font-size:0.9em; cursor:pointer; transition:0.18s;}
.transliteration-btn:hover{background:#125cab;}
.quiz-btn { background: var(--accent); color:#fff; border:none; border-radius:12px; padding:6px 12px; font-weight:600; cursor:pointer; transition:0.18s;}
.quiz-btn:hover{background:#ff8800;}
@keyframes fade-in { from{opacity:0;transform:translateY(20px);} to{opacity:1;transform:none;} }

.popup { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.55); display:none; align-items:center; justify-content:center; z-index:9999;}
.popup.active{display:flex;}
.popup-content { background:#fff; padding:24px; border-radius:18px; max-width:400px; width:90%; text-align:center; box-shadow: var(--shadow);}
.popup-content h2{margin-top:0;}
.popup-content button{margin-top:14px;padding:8px 16px; border:none;border-radius:8px;background:var(--primary);color:#fff;font-weight:600; cursor:pointer;}
.popup-content button:hover{background:#125cab;}

.dark { background:#1e1e1e; color:#eee;}
.dark .surface { background:#2b2b2b;}
.dark .vocab-card { background:#2b2b2b; box-shadow: 0 2px 10px #00000055;}
.dark .search-card { background:#2b2b2b; border:1px solid #444; }
.dark .accordion-section { background:#2b2b2b; border:1px solid #444; }
.dark .accordion-header { background:#3a3a3a; color:#fff; }
.dark .accordion-header.active { background:#505050; }
.dark .dropdown-content { background:#3a3a3a; color:#fff; }

@media(max-width:700px){.container{padding:0 1vw;} header h1{font-size:1.4em;}}
@media(max-width:500px){header h1{font-size:1.1em;} header .material-icons,#modeToggle{font-size:1.5em;} }
</style>
</head>
<body>
<header>
  <div style="display:flex; align-items:center;"><span class="material-icons">auto_stories</span><h1>‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞Æ‡∞æ‡∞ü‡±ã‡∞≤‡∞ø</h1></div>
  <span class="material-icons" id="modeToggle" title="Toggle Dark/Light Mode">light_mode</span>
</header>
<div class="container">
  <div class="search-card">
    <input type="text" id="searchInput" placeholder="‡∞µ‡∞∞‡±ç‡∞°‡±ç/‡∞á‡∞Ç‡∞ó‡±ç‡∞≤‡±Ä‡∞∑‡±ç/‡∞µ‡∞ø‡∞µ‡∞∞‡∞£ ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞µ‡±Ü‡∞§‡∞ï‡∞Ç‡∞°‡∞ø...">
    <button onclick="searchWord()"><span class="material-icons">search</span> ‡∞µ‡±Ü‡∞§‡±Å‡∞ï‡±Å</button>
  </div>
  <div class="search-hint">‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£: "go", "‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å", "stand", "inside", "‡∞é‡∞ï‡±ç‡∞ï‡∞°?"</div>

  <div class="accordion" id="vocabAccordion"></div>
</div>

<div class="popup" id="voiceTestPopup">
  <div class="popup-content">
    <h2>Voice Test</h2>
    <p id="voiceWordDisplay" style="font-weight:700;font-size:1.3em;"></p>
    <p>Click microphone and say the word.</p>
    <button onclick="startVoiceTest()">üé§ Start</button>
    <p id="voiceTestResult"></p>
    <button onclick="closeVoicePopup()">Close</button>
  </div>
</div>

<script>
// DATA
const vocabData = {
  "Personal Pronouns":[
    {word:"‡∞®‡±á‡∞®‡±Å", equivalent:"I", meaning:"nƒìnu", example:"‡∞®‡±á‡∞®‡±Å ‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï‡∞Ç ‡∞ö‡∞¶‡±Å‡∞µ‡±Å‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞®‡±Å.", pronunciation:"neÀênu"},
    {word:"‡∞Æ‡±á‡∞Æ‡±Å", equivalent:"We (exclusive)", meaning:"mƒìmu", example:"‡∞Æ‡±á‡∞Æ‡±Å ‡∞¨‡∞Ø‡∞ü‡∞ø‡∞ï‡∞ø ‡∞µ‡±Ü‡∞≥‡±ç‡∞≥‡∞æ‡∞Æ‡±Å.", pronunciation:"meÀêmu"},
    {word:"‡∞Æ‡∞®‡∞Æ‡±Å", equivalent:"We (inclusive)", meaning:"manamu", example:"‡∞Æ‡∞®‡∞Æ‡±Å ‡∞ï‡∞≤‡∞ø‡∞∏‡∞ø ‡∞™‡∞®‡∞ø ‡∞ö‡±á‡∞¶‡±ç‡∞¶‡∞æ‡∞Ç.", pronunciation:"manamu"},
    {word:"‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å", equivalent:"You (informal)", meaning:"nuvvu", example:"‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å ‡∞¨‡∞æ‡∞ó‡∞æ ‡∞Ü‡∞°‡∞æ‡∞µ‡±Å.", pronunciation:"nuvvu"},
    {word:"‡∞Æ‡±Ä‡∞∞‡±Å", equivalent:"You (formal/plural)", meaning:"meeru", example:"‡∞Æ‡±Ä‡∞∞‡±Å ‡∞é‡∞≤‡∞æ ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞∞‡±Å?", pronunciation:"miÀêru"}
  ],
  "Common Verbs":[
    {word:"‡∞ö‡±á‡∞Ø‡±Å", equivalent:"do/make", meaning:"cheyyu", example:"‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å ‡∞™‡∞®‡∞ø ‡∞ö‡±á‡∞Ø‡±Å.", pronunciation:"t Ée…™yu"},
    {word:"‡∞µ‡±Ü‡∞≥‡±ç‡∞≥‡±Å", equivalent:"go", meaning:"ve·∏∑·∏∑u", example:"‡∞µ‡±Ü‡∞≥‡±ç‡∞≥‡±Å ‡∞á‡∞Ç‡∞ü‡∞ø‡∞ï‡∞ø.", pronunciation:"ve…≠…≠u"},
    {word:"‡∞∞‡∞æ", equivalent:"come", meaning:"rƒÅ", example:"‡∞á‡∞ï‡±ç‡∞ï‡∞° ‡∞∞‡∞æ.", pronunciation:"raÀê"},
    {word:"‡∞§‡∞ø‡∞®‡±Å", equivalent:"eat", meaning:"tinu", example:"‡∞™‡∞Ç‡∞°‡±ç‡∞≤‡±Å ‡∞§‡∞ø‡∞®‡±Å.", pronunciation:"tinu"},
    {word:"‡∞ö‡±Ç‡∞°‡±Å", equivalent:"see/look", meaning:"ch≈´·∏çu", example:"‡∞ö‡∞ø‡∞§‡±ç‡∞∞‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞ö‡±Ç‡∞°‡±Å.", pronunciation:"t ÉuÀê…ñu"}
  ]
}

// UTILITIES
function playSound(text, lang='te-IN', rate=0.93){
  if('speechSynthesis' in window){
    var msg=new SpeechSynthesisUtterance(text);
    msg.lang=lang; msg.rate=rate; window.speechSynthesis.speak(msg);
  }else alert("Speech not supported in this browser.");
}
function playTransliterationSound(text){ playSound(text,'en-US',0.95); }

// ACCORDION & CARDS
function renderAccordion(){
  const container=document.getElementById('vocabAccordion');
  container.innerHTML='';
  Object.keys(vocabData).forEach(section=>{
    const sec=document.createElement('div'); sec.className='accordion-section';
    const header=document.createElement('div'); header.className='accordion-header'; header.innerHTML=`<span>${section}</span>`; 
    header.onclick=()=>{header.classList.toggle('active');content.classList.toggle('active');};
    const content=document.createElement('div'); content.className='accordion-content';
    vocabData[section].forEach((item,idx)=>{
      const card=document.createElement('div'); card.className='vocab-card';
      card.innerHTML=`<div class="vocab-word">${item.word}</div>
        <div class="vocab-meaning">${item.equivalent}</div>
        <div class="vocab-translit">Transliteration: ${item.meaning}</div>
        <div class="vocab-translit"><b>Example:</b> ${item.example}</div>
        <div class="card-buttons">
          <button class="sound-btn" onclick="playSound('${item.word}')"><span class="material-icons">volume_up</span></button>
          <button class="transliteration-btn" onclick="playTransliterationSound('${item.meaning}')">Translit</button>
          <button class="quiz-btn" onclick="openVoicePopup('${item.word}')">Voice Test</button>
        </div>`;
      content.appendChild(card);
    });
    sec.appendChild(header); sec.appendChild(content); container.appendChild(sec);
  });
}
renderAccordion();

// SEARCH
function searchWord(){
  const query=document.getElementById("searchInput").value.toLowerCase();
  if(!query)return alert("‡∞è‡∞¶‡±à‡∞®‡∞æ ‡∞µ‡±ç‡∞∞‡∞æ‡∞Ø‡∞Ç‡∞°‡∞ø...");
  let results=[];
  Object.values(vocabData).forEach(arr=>{
    results.push(...arr.filter(e=>e.word.toLowerCase().includes(query)||e.meaning.toLowerCase().includes(query)||e.equivalent.toLowerCase().includes(query)));
  });
  if(results.length>0){
    const container=document.getElementById('vocabAccordion'); container.innerHTML='';
    results.forEach((item,idx)=>{
      const card=document.createElement('div'); card.className='vocab-card';
      card.innerHTML=`<div class="vocab-word">${item.word}</div>
        <div class="vocab-meaning">${item.equivalent}</div>
        <div class="vocab-translit">Transliteration: ${item.meaning}</div>
        <div class="vocab-translit"><b>Example:</b> ${item.example}</div>
        <div class="card-buttons">
          <button class="sound-btn" onclick="playSound('${item.word}')"><span class="material-icons">volume_up</span></button>
          <button class="transliteration-btn" onclick="playTransliterationSound('${item.meaning}')">Translit</button>
          <button class="quiz-btn" onclick="openVoicePopup('${item.word}')">Voice Test</button>
        </div>`;
      container.appendChild(card);
    });
  }else alert("‚ùå ‡∞à ‡∞™‡∞¶‡∞Ç ‡∞¶‡±ä‡∞∞‡∞ï‡∞≤‡±á‡∞¶‡±Å.");
}

// VOICE TEST
let currentVoiceWord='';
function openVoicePopup(word){currentVoiceWord=word;document.getElementById('voiceWordDisplay').innerText=word;document.getElementById('voiceTestResult').innerText=''; document.getElementById('voiceTestPopup').classList.add('active');}
function closeVoicePopup(){document.getElementById('voiceTestPopup').classList.remove('active');}
function startVoiceTest(){
  if(!('webkitSpeechRecognition' in window)) return alert('Voice recognition not supported!');
  const recognition=new webkitSpeechRecognition();
  recognition.lang='te-IN'; recognition.interimResults=false; recognition.maxAlternatives=1;
  recognition.start();
  recognition.onresult=function(event){
    const spoken=event.results[0][0].transcript;
    const score=(spoken.trim()===currentVoiceWord)?'‚úÖ Correct!':'‚ùå Try Again. You said: '+spoken;
    document.getElementById('voiceTestResult').innerText=score;
  }
}

// DARK/LIGHT MODE
const body=document.body;
document.getElementById('modeToggle').onclick=()=>{
  body.classList.toggle('dark');
  document.getElementById('modeToggle').innerText=body.classList.contains('dark')?'dark_mode':'light_mode';
}
</script>
</body>
</html>
