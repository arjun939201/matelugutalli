<!DOCTYPE html>
<html lang="te">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞®‡±á‡∞∞‡±ç‡∞ö‡±Å‡∞ï‡±ãüå∏</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Telugu:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Noto Sans Telugu', sans-serif;
        }
        
        .search-expanded {
            width: 300px;
        }
        
        .search-collapsed {
            width: 40px;
        }
        
        .card-enter {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .voice-waiting {
            animation: voiceBlink 1s infinite;
        }
        
        @keyframes voiceBlink {
            0%, 50% { background-color: #f3f4f6; }
            51%, 100% { background-color: #9ca3af; }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white p-6 shadow-lg">
        <div class="max-w-6xl mx-auto">
            <div class="flex items-center justify-between mb-4">
                <h1 class="text-3xl font-bold">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞®‡±á‡∞∞‡±ç‡∞ö‡±Å‡∞ï‡±ãüå∏</h1>
                <div class="flex items-center">
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="‡∞µ‡±Ü‡∞§‡∞ï‡∞Ç‡∞°‡∞ø..." 
                        class="search-collapsed transition-all duration-300 px-3 py-2 rounded-lg text-gray-800 focus:outline-none opacity-0 pointer-events-none"
                    >
                    <button 
                        id="searchBtn" 
                        class="ml-2 p-2 bg-white bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-all duration-200"
                    >
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Breadcrumb -->
            <div id="breadcrumb" class="text-sm opacity-90 flex items-center space-x-2">
                <span class="cursor-pointer hover:underline" onclick="navigateToBreadcrumb('home')">‡∞π‡±ã‡∞Æ‡±ç</span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto p-6">
        <!-- Topics List -->
        <div id="topicsList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="topic-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 cursor-pointer border-l-4 border-blue-500" onclick="openLetters()">
                <div class="flex items-center mb-3">
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
                        <span class="text-2xl">‡∞Ö</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800">‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞æ‡∞≤‡±Å</h3>
                </div>
                <p class="text-gray-600">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞µ‡∞∞‡±ç‡∞£‡∞Æ‡∞æ‡∞≤ ‡∞®‡±á‡∞∞‡±ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø</p>
            </div>

            <div class="topic-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 cursor-pointer border-l-4 border-green-500" onclick="openPartsOfSpeech()">
                <div class="flex items-center mb-3">
                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4">
                        <span class="text-2xl">üìù</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800">‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£‡∞Ç</h3>
                </div>
                <p class="text-gray-600">‡∞™‡∞¶‡∞æ‡∞≤ ‡∞∞‡∞ï‡∞æ‡∞≤‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£ ‡∞®‡∞ø‡∞Ø‡∞Æ‡∞æ‡∞≤‡±Å</p>
            </div>

            <div class="topic-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 cursor-pointer border-l-4 border-purple-500" onclick="openWords()">
                <div class="flex items-center mb-3">
                    <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4">
                        <span class="text-2xl">üìö</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800">‡∞™‡∞¶‡∞æ‡∞≤‡±Å</h3>
                </div>
                <p class="text-gray-600">‡∞∞‡±ã‡∞ú‡±Å‡∞µ‡∞æ‡∞∞‡±Ä ‡∞µ‡∞æ‡∞°‡±Å‡∞ï‡∞≤‡±ã ‡∞µ‡∞ö‡±ç‡∞ö‡±á ‡∞™‡∞¶‡∞æ‡∞≤‡±Å</p>
            </div>

            <div class="topic-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 cursor-pointer border-l-4 border-red-500" onclick="openNumbers()">
                <div class="flex items-center mb-3">
                    <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mr-4">
                        <span class="text-2xl">üî¢</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800">‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å</h3>
                </div>
                <p class="text-gray-600">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å‡∞≤‡±ã ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å ‡∞®‡±á‡∞∞‡±ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø</p>
            </div>

            <div class="topic-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 cursor-pointer border-l-4 border-yellow-500" onclick="openConversations()">
                <div class="flex items-center mb-3">
                    <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mr-4">
                        <span class="text-2xl">üí¨</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800">‡∞∏‡∞Ç‡∞≠‡∞æ‡∞∑‡∞£</h3>
                </div>
                <p class="text-gray-600">‡∞∞‡±ã‡∞ú‡±Å‡∞µ‡∞æ‡∞∞‡±Ä ‡∞∏‡∞Ç‡∞≠‡∞æ‡∞∑‡∞£‡∞≤‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞µ‡∞æ‡∞ï‡±ç‡∞Ø‡∞æ‡∞≤‡±Å</p>
            </div>

            <div class="topic-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 cursor-pointer border-l-4 border-indigo-500" onclick="openPractice()">
                <div class="flex items-center mb-3">
                    <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mr-4">
                        <span class="text-2xl">üéØ</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800">‡∞Ö‡∞≠‡±ç‡∞Ø‡∞æ‡∞∏‡∞Ç</h3>
                </div>
                <p class="text-gray-600">‡∞µ‡±ç‡∞Ø‡∞æ‡∞Ø‡∞æ‡∞Æ‡∞æ‡∞≤‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞≤‡±Å</p>
            </div>
        </div>

        <!-- Parts of Speech List -->
        <div id="partsOfSpeechList" class="hidden">
            <div class="flex items-center mb-6">
                <button onclick="goBack()" class="mr-4 p-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
                <h2 class="text-2xl font-bold text-gray-800">‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£‡∞Ç - ‡∞™‡∞¶‡∞æ‡∞≤ ‡∞∞‡∞ï‡∞æ‡∞≤‡±Å</h2>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-200 p-4 cursor-pointer" onclick="openCards('pronouns')">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">‡∞∏‡∞∞‡±ç‡∞µ‡∞®‡∞æ‡∞Æ‡∞æ‡∞≤‡±Å</h3>
                    <p class="text-gray-600 text-sm">‡∞®‡±á‡∞®‡±Å, ‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å, ‡∞Ö‡∞§‡∞®‡±Å, ‡∞Ü‡∞Æ‡±Ü...</p>
                </div>
                
                <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-200 p-4 cursor-pointer" onclick="openCards('verbs')">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">‡∞ï‡±ç‡∞∞‡∞ø‡∞Ø‡∞≤‡±Å</h3>
                    <p class="text-gray-600 text-sm">‡∞µ‡∞ö‡±ç‡∞ö‡±Å, ‡∞µ‡±Ü‡∞≥‡±ç‡∞≥‡±Å, ‡∞§‡∞ø‡∞®‡±Å, ‡∞ö‡±Ç‡∞°‡±Å...</p>
                </div>
                
                <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-200 p-4 cursor-pointer" onclick="openCards('postpositions')">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">‡∞µ‡∞ø‡∞≠‡∞ï‡±ç‡∞§‡±Å‡∞≤‡±Å</h3>
                    <p class="text-gray-600 text-sm">‡∞ï‡±Å, ‡∞§‡±ã, ‡∞≤‡±ã, ‡∞®‡±Å‡∞Ç‡∞°‡∞ø...</p>
                </div>
                
                <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-200 p-4 cursor-pointer" onclick="openCards('adjectives')">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">‡∞µ‡∞ø‡∞∂‡±á‡∞∑‡∞£‡∞æ‡∞≤‡±Å</h3>
                    <p class="text-gray-600 text-sm">‡∞Æ‡∞Ç‡∞ö‡∞ø, ‡∞ö‡±Ü‡∞°‡±ç‡∞°, ‡∞™‡±Ü‡∞¶‡±ç‡∞¶, ‡∞ö‡∞ø‡∞®‡±ç‡∞®...</p>
                </div>
                
                <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-200 p-4 cursor-pointer" onclick="openCards('nouns')">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">‡∞®‡∞æ‡∞Æ‡∞µ‡∞æ‡∞ö‡∞ï‡∞æ‡∞≤‡±Å</h3>
                    <p class="text-gray-600 text-sm">‡∞á‡∞≤‡±ç‡∞≤‡±Å, ‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï‡∞Ç, ‡∞ö‡±Ü‡∞ü‡±ç‡∞ü‡±Å...</p>
                </div>
                
                <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-200 p-4 cursor-pointer" onclick="openCards('adverbs')">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">‡∞ï‡±ç‡∞∞‡∞ø‡∞Ø‡∞æ ‡∞µ‡∞ø‡∞∂‡±á‡∞∑‡∞£‡∞æ‡∞≤‡±Å</h3>
                    <p class="text-gray-600 text-sm">‡∞§‡±ç‡∞µ‡∞∞‡∞ó‡∞æ, ‡∞®‡±Ü‡∞Æ‡±ç‡∞Æ‡∞¶‡∞ø‡∞ó‡∞æ, ‡∞¨‡∞æ‡∞ó‡∞æ...</p>
                </div>
            </div>
        </div>

        <!-- Cards View -->
        <div id="cardsView" class="hidden">
            <div class="flex items-center justify-between mb-6">
                <div class="flex items-center">
                    <button onclick="goBack()" class="mr-4 p-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <h2 id="cardsTitle" class="text-2xl font-bold text-gray-800"></h2>
                </div>
                
                <div class="flex items-center space-x-2">
                    <span id="cardCounter" class="text-gray-600"></span>
                </div>
            </div>
            
            <div class="max-w-2xl mx-auto">
                <div class="bg-white rounded-xl shadow-lg p-8 card-enter">
                    <div class="text-center">
                        <div id="cardContent" class="mb-6">
                            <!-- Card content will be inserted here -->
                        </div>
                        
                        <div class="flex justify-center space-x-4 mb-6">
                            <button id="soundBtn" class="px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 14.142M6.343 6.343A8 8 0 004.222 12a8.001 8.001 0 002.121 5.657"></path>
                                </svg>
                                ‡∞ß‡±ç‡∞µ‡∞®‡∞ø ‡∞µ‡∞ø‡∞®‡∞Ç‡∞°‡∞ø
                            </button>
                            
                            <button id="voiceTestBtn" class="px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
                                </svg>
                                ‡∞µ‡∞æ‡∞Ø‡∞ø‡∞∏‡±ç ‡∞ü‡±Ü‡∞∏‡±ç‡∞ü‡±ç
                            </button>
                        </div>
                        
                        <!-- Voice Test Status -->
                        <div id="voiceStatus" class="hidden mb-6 p-4 rounded-lg text-center transition-all duration-300">
                            <div id="voiceStatusText" class="font-medium"></div>
                        </div>
                        
                        <div class="flex justify-between">
                            <button id="prevBtn" class="px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                </svg>
                                ‡∞Æ‡±Å‡∞®‡±Å‡∞™‡∞ü‡∞ø‡∞¶‡∞ø
                            </button>
                            
                            <button id="nextBtn" class="px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors flex items-center">
                                ‡∞§‡∞∞‡±Å‡∞µ‡∞æ‡∞§‡∞¶‡∞ø
                                <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // State management
        let currentView = 'topics';
        let currentCardIndex = 0;
        let currentCardSet = [];
        let searchExpanded = false;
        let navigationHistory = ['topics'];
        let breadcrumbHistory = ['‡∞π‡±ã‡∞Æ‡±ç'];

        // Data
        const teluguLetters = [
            { letter: '‡∞Ö', pronunciation: 'a', meaning: '‡∞Ö ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞Ü', pronunciation: 'aa', meaning: '‡∞Ü ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞á', pronunciation: 'i', meaning: '‡∞á ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞à', pronunciation: 'ee', meaning: '‡∞à ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞â', pronunciation: 'u', meaning: '‡∞â ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞ä', pronunciation: 'oo', meaning: '‡∞ä ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞ã', pronunciation: 'ru', meaning: '‡∞ã ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡±†', pronunciation: 'ruu', meaning: '‡±† ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞å', pronunciation: 'lu', meaning: '‡∞å ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡±°', pronunciation: 'luu', meaning: '‡±° ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞é', pronunciation: 'e', meaning: '‡∞é ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞è', pronunciation: 'ae', meaning: '‡∞è ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞ê', pronunciation: 'ai', meaning: '‡∞ê ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞í', pronunciation: 'o', meaning: '‡∞í ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞ì', pronunciation: 'oo', meaning: '‡∞ì ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' },
            { letter: '‡∞î', pronunciation: 'au', meaning: '‡∞î ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞Ç' }
        ];

        const grammarData = {
            pronouns: [
                { word: '‡∞®‡±á‡∞®‡±Å', pronunciation: 'naenu', meaning: 'I/me', example: '‡∞®‡±á‡∞®‡±Å ‡∞µ‡∞∏‡±ç‡∞§‡∞æ‡∞®‡±Å' },
                { word: '‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å', pronunciation: 'nuvvu', meaning: 'you', example: '‡∞®‡±Å‡∞µ‡±ç‡∞µ‡±Å ‡∞é‡∞ï‡±ç‡∞ï‡∞°‡∞ø‡∞ï‡∞ø ‡∞µ‡±Ü‡∞≥‡±ç‡∞§‡∞æ‡∞µ‡±Å?' },
                { word: '‡∞Ö‡∞§‡∞®‡±Å', pronunciation: 'athanu', meaning: 'he', example: '‡∞Ö‡∞§‡∞®‡±Å ‡∞Æ‡∞Ç‡∞ö‡∞ø‡∞µ‡∞æ‡∞°‡±Å' },
                { word: '‡∞Ü‡∞Æ‡±Ü', pronunciation: 'aame', meaning: 'she', example: '‡∞Ü‡∞Æ‡±Ü ‡∞Ö‡∞Ç‡∞¶‡∞Ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞¶‡∞ø' },
                { word: '‡∞Æ‡±á‡∞Æ‡±Å', pronunciation: 'maemu', meaning: 'we', example: '‡∞Æ‡±á‡∞Æ‡±Å ‡∞ï‡∞≤‡∞ø‡∞∏‡∞ø ‡∞µ‡±Ü‡∞≥‡±ç‡∞§‡∞æ‡∞Æ‡±Å' }
            ],
            verbs: [
                { word: '‡∞µ‡∞ö‡±ç‡∞ö‡±Å', pronunciation: 'vacchu', meaning: 'to come', example: '‡∞®‡±á‡∞®‡±Å ‡∞∞‡±á‡∞™‡±Å ‡∞µ‡∞∏‡±ç‡∞§‡∞æ‡∞®‡±Å' },
                { word: '‡∞µ‡±Ü‡∞≥‡±ç‡∞≥‡±Å', pronunciation: 'vellu', meaning: 'to go', example: '‡∞Ö‡∞§‡∞®‡±Å ‡∞á‡∞Ç‡∞ü‡∞ø‡∞ï‡∞ø ‡∞µ‡±Ü‡∞≥‡±ç‡∞§‡∞æ‡∞°‡±Å' },
                { word: '‡∞§‡∞ø‡∞®‡±Å', pronunciation: 'thinu', meaning: 'to eat', example: '‡∞®‡±á‡∞®‡±Å ‡∞Ö‡∞®‡±ç‡∞®‡∞Ç ‡∞§‡∞ø‡∞Ç‡∞ü‡∞æ‡∞®‡±Å' },
                { word: '‡∞ö‡±Ç‡∞°‡±Å', pronunciation: 'choodu', meaning: 'to see', example: '‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ ‡∞ö‡±Ç‡∞°‡∞æ‡∞≤‡∞ø' },
                { word: '‡∞ö‡±Ü‡∞™‡±ç‡∞™‡±Å', pronunciation: 'cheppu', meaning: 'to say', example: '‡∞®‡∞ø‡∞ú‡∞Ç ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡±Å' }
            ],
            postpositions: [
                { word: '‡∞ï‡±Å', pronunciation: 'ku', meaning: 'to/for', example: '‡∞á‡∞Ç‡∞ü‡∞ø‡∞ï‡±Å ‡∞µ‡±Ü‡∞≥‡±ç‡∞≥‡±Å' },
                { word: '‡∞§‡±ã', pronunciation: 'tho', meaning: 'with', example: '‡∞®‡∞æ‡∞§‡±ã ‡∞∞‡∞æ' },
                { word: '‡∞≤‡±ã', pronunciation: 'lo', meaning: 'in', example: '‡∞á‡∞Ç‡∞ü‡±ç‡∞≤‡±ã ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞®‡±Å' },
                { word: '‡∞®‡±Å‡∞Ç‡∞°‡∞ø', pronunciation: 'nundi', meaning: 'from', example: '‡∞á‡∞Ç‡∞ü‡∞ø ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞µ‡∞ö‡±ç‡∞ö‡∞æ‡∞®‡±Å' },
                { word: '‡∞µ‡∞∞‡∞ï‡±Å', pronunciation: 'varaku', meaning: 'until', example: '‡∞∞‡∞æ‡∞§‡±ç‡∞∞‡∞ø ‡∞µ‡∞∞‡∞ï‡±Å ‡∞™‡∞®‡∞ø' }
            ],
            adjectives: [
                { word: '‡∞Æ‡∞Ç‡∞ö‡∞ø', pronunciation: 'manchi', meaning: 'good', example: '‡∞Æ‡∞Ç‡∞ö‡∞ø ‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï‡∞Ç' },
                { word: '‡∞ö‡±Ü‡∞°‡±ç‡∞°', pronunciation: 'chedda', meaning: 'bad', example: '‡∞ö‡±Ü‡∞°‡±ç‡∞° ‡∞µ‡∞æ‡∞§‡∞æ‡∞µ‡∞∞‡∞£‡∞Ç' },
                { word: '‡∞™‡±Ü‡∞¶‡±ç‡∞¶', pronunciation: 'pedda', meaning: 'big', example: '‡∞™‡±Ü‡∞¶‡±ç‡∞¶ ‡∞á‡∞≤‡±ç‡∞≤‡±Å' },
                { word: '‡∞ö‡∞ø‡∞®‡±ç‡∞®', pronunciation: 'chinna', meaning: 'small', example: '‡∞ö‡∞ø‡∞®‡±ç‡∞® ‡∞™‡∞ø‡∞≤‡±ç‡∞≤‡∞µ‡∞æ‡∞°‡±Å' },
                { word: '‡∞Ö‡∞Ç‡∞¶‡∞Æ‡±à‡∞®', pronunciation: 'andamaina', meaning: 'beautiful', example: '‡∞Ö‡∞Ç‡∞¶‡∞Æ‡±à‡∞® ‡∞™‡±Å‡∞µ‡±ç‡∞µ‡±Å' }
            ],
            nouns: [
                { word: '‡∞á‡∞≤‡±ç‡∞≤‡±Å', pronunciation: 'illu', meaning: 'house', example: '‡∞Æ‡∞æ ‡∞á‡∞≤‡±ç‡∞≤‡±Å ‡∞™‡±Ü‡∞¶‡±ç‡∞¶‡∞¶‡∞ø' },
                { word: '‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï‡∞Ç', pronunciation: 'pusthakam', meaning: 'book', example: '‡∞Æ‡∞Ç‡∞ö‡∞ø ‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï‡∞Ç ‡∞ö‡∞¶‡±Å‡∞µ‡±Å' },
                { word: '‡∞ö‡±Ü‡∞ü‡±ç‡∞ü‡±Å', pronunciation: 'chettu', meaning: 'tree', example: '‡∞™‡±Ü‡∞¶‡±ç‡∞¶ ‡∞ö‡±Ü‡∞ü‡±ç‡∞ü‡±Å ‡∞ï‡∞ø‡∞Ç‡∞¶ ‡∞ï‡±Ç‡∞∞‡±ç‡∞ö‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞®‡±Å' },
                { word: '‡∞®‡±Ä‡∞∞‡±Å', pronunciation: 'neeru', meaning: 'water', example: '‡∞ö‡∞≤‡±ç‡∞≤‡∞®‡∞ø ‡∞®‡±Ä‡∞∞‡±Å ‡∞§‡∞æ‡∞ó‡±Å' },
                { word: '‡∞Ö‡∞®‡±ç‡∞®‡∞Ç', pronunciation: 'annam', meaning: 'rice/food', example: '‡∞∞‡±Å‡∞ö‡∞ø‡∞ï‡∞∞‡∞Æ‡±à‡∞® ‡∞Ö‡∞®‡±ç‡∞®‡∞Ç' }
            ],
            adverbs: [
                { word: '‡∞§‡±ç‡∞µ‡∞∞‡∞ó‡∞æ', pronunciation: 'twaraga', meaning: 'quickly', example: '‡∞§‡±ç‡∞µ‡∞∞‡∞ó‡∞æ ‡∞∞‡∞æ' },
                { word: '‡∞®‡±Ü‡∞Æ‡±ç‡∞Æ‡∞¶‡∞ø‡∞ó‡∞æ', pronunciation: 'nemmadiga', meaning: 'slowly', example: '‡∞®‡±Ü‡∞Æ‡±ç‡∞Æ‡∞¶‡∞ø‡∞ó‡∞æ ‡∞®‡∞°‡±Å‡∞µ‡±Å' },
                { word: '‡∞¨‡∞æ‡∞ó‡∞æ', pronunciation: 'baaga', meaning: 'well/good', example: '‡∞¨‡∞æ‡∞ó‡∞æ ‡∞ö‡∞¶‡±Å‡∞µ‡±Å' },
                { word: '‡∞ö‡∞æ‡∞≤‡∞æ', pronunciation: 'chaala', meaning: 'very/much', example: '‡∞ö‡∞æ‡∞≤‡∞æ ‡∞Æ‡∞Ç‡∞ö‡∞ø‡∞¶‡∞ø' },
                { word: '‡∞ï‡±ä‡∞Ç‡∞ö‡±Ü‡∞Ç', pronunciation: 'konchem', meaning: 'little/some', example: '‡∞ï‡±ä‡∞Ç‡∞ö‡±Ü‡∞Ç ‡∞®‡±Ä‡∞∞‡±Å ‡∞á‡∞µ‡±ç‡∞µ‡±Å' }
            ]
        };

        const wordsData = [
            { word: '‡∞®‡∞Æ‡∞∏‡±ç‡∞ï‡∞æ‡∞∞‡∞Ç', pronunciation: 'namaskaram', meaning: 'hello/greetings', example: '‡∞Ö‡∞Ç‡∞¶‡∞∞‡∞ø‡∞ï‡±Ä ‡∞®‡∞Æ‡∞∏‡±ç‡∞ï‡∞æ‡∞∞‡∞Ç' },
            { word: '‡∞ß‡∞®‡±ç‡∞Ø‡∞µ‡∞æ‡∞¶‡∞æ‡∞≤‡±Å', pronunciation: 'dhanyavadalu', meaning: 'thank you', example: '‡∞Æ‡±Ä‡∞ï‡±Å ‡∞ß‡∞®‡±ç‡∞Ø‡∞µ‡∞æ‡∞¶‡∞æ‡∞≤‡±Å' },
            { word: '‡∞ï‡±ç‡∞∑‡∞Æ‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø', pronunciation: 'kshaminchandhi', meaning: 'sorry/excuse me', example: '‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞ï‡±ç‡∞∑‡∞Æ‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø' },
            { word: '‡∞Ö‡∞µ‡±Å‡∞®‡±Å', pronunciation: 'avunu', meaning: 'yes', example: '‡∞Ö‡∞µ‡±Å‡∞®‡±Å, ‡∞®‡±á‡∞®‡±Å ‡∞µ‡∞∏‡±ç‡∞§‡∞æ‡∞®‡±Å' },
            { word: '‡∞ï‡∞æ‡∞¶‡±Å', pronunciation: 'kaadhu', meaning: 'no', example: '‡∞ï‡∞æ‡∞¶‡±Å, ‡∞Ö‡∞¶‡∞ø ‡∞®‡∞æ‡∞¶‡∞ø ‡∞ï‡∞æ‡∞¶‡±Å' }
        ];

        const numbersData = [
            { word: '‡∞í‡∞ï‡∞ü‡∞ø', pronunciation: 'okati', meaning: '1', example: '‡∞í‡∞ï‡∞ü‡∞ø ‡∞™‡±Å‡∞∏‡±ç‡∞§‡∞ï‡∞Ç' },
            { word: '‡∞∞‡±Ü‡∞Ç‡∞°‡±Å', pronunciation: 'rendu', meaning: '2', example: '‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞ï‡∞≥‡±ç‡∞≥‡±Å' },
            { word: '‡∞Æ‡±Ç‡∞°‡±Å', pronunciation: 'moodu', meaning: '3', example: '‡∞Æ‡±Ç‡∞°‡±Å ‡∞∞‡±ã‡∞ú‡±Å‡∞≤‡±Å' },
            { word: '‡∞®‡∞æ‡∞≤‡±Å‡∞ó‡±Å', pronunciation: 'naalugu', meaning: '4', example: '‡∞®‡∞æ‡∞≤‡±Å‡∞ó‡±Å ‡∞µ‡±à‡∞™‡±Å‡∞≤‡±Å' },
            { word: '‡∞Ö‡∞Ø‡∞ø‡∞¶‡±Å', pronunciation: 'ayidhu', meaning: '5', example: '‡∞Ö‡∞Ø‡∞ø‡∞¶‡±Å ‡∞µ‡±á‡∞≥‡±ç‡∞≥‡±Å' },
            { word: '‡∞Ü‡∞∞‡±Å', pronunciation: 'aaru', meaning: '6', example: '‡∞Ü‡∞∞‡±Å ‡∞ó‡∞Ç‡∞ü‡∞≤‡±Å' },
            { word: '‡∞è‡∞°‡±Å', pronunciation: 'aedu', meaning: '7', example: '‡∞è‡∞°‡±Å ‡∞∞‡±ã‡∞ú‡±Å‡∞≤‡±Å' },
            { word: '‡∞é‡∞®‡∞ø‡∞Æ‡∞ø‡∞¶‡∞ø', pronunciation: 'enimidhi', meaning: '8', example: '‡∞é‡∞®‡∞ø‡∞Æ‡∞ø‡∞¶‡∞ø ‡∞ó‡∞Ç‡∞ü‡∞≤‡±Å' },
            { word: '‡∞§‡±ä‡∞Æ‡±ç‡∞Æ‡∞ø‡∞¶‡∞ø', pronunciation: 'thommidhi', meaning: '9', example: '‡∞§‡±ä‡∞Æ‡±ç‡∞Æ‡∞ø‡∞¶‡∞ø ‡∞®‡±Ü‡∞≤‡∞≤‡±Å' },
            { word: '‡∞™‡∞¶‡∞ø', pronunciation: 'padhi', meaning: '10', example: '‡∞™‡∞¶‡∞ø ‡∞µ‡±á‡∞≥‡±ç‡∞≥‡±Å' }
        ];

        const conversationsData = [
            { word: '‡∞Æ‡±Ä ‡∞™‡±á‡∞∞‡±Å ‡∞è‡∞Æ‡∞ø‡∞ü‡∞ø?', pronunciation: 'mee paeru aemiti?', meaning: 'What is your name?', example: '‡∞®‡∞æ ‡∞™‡±á‡∞∞‡±Å ‡∞∞‡∞æ‡∞Æ‡±Å' },
            { word: '‡∞Æ‡±Ä‡∞∞‡±Å ‡∞é‡∞≤‡∞æ ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞∞‡±Å?', pronunciation: 'meeru aela unnaaru?', meaning: 'How are you?', example: '‡∞®‡±á‡∞®‡±Å ‡∞¨‡∞æ‡∞ó‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞®‡±Å' },
            { word: '‡∞Æ‡±Ä‡∞∞‡±Å ‡∞é‡∞ï‡±ç‡∞ï‡∞° ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞µ‡∞ö‡±ç‡∞ö‡∞æ‡∞∞‡±Å?', pronunciation: 'meeru ekkada nundi vachaaru?', meaning: 'Where are you from?', example: '‡∞®‡±á‡∞®‡±Å ‡∞π‡±à‡∞¶‡∞∞‡∞æ‡∞¨‡∞æ‡∞¶‡±ç ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞µ‡∞ö‡±ç‡∞ö‡∞æ‡∞®‡±Å' },
            { word: '‡∞á‡∞¶‡∞ø ‡∞é‡∞Ç‡∞§?', pronunciation: 'idhi entha?', meaning: 'How much is this?', example: '‡∞á‡∞¶‡∞ø ‡∞™‡∞¶‡∞ø ‡∞∞‡±Ç‡∞™‡∞æ‡∞Ø‡∞≤‡±Å' },
            { word: '‡∞∏‡∞Æ‡∞Ø‡∞Ç ‡∞é‡∞Ç‡∞§ ‡∞Ö‡∞Ø‡∞ø‡∞Ç‡∞¶‡∞ø?', pronunciation: 'samayam entha ayindhi?', meaning: 'What time is it?', example: '‡∞á‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞Æ‡±Ç‡∞°‡±Å ‡∞ó‡∞Ç‡∞ü‡∞≤‡±Å' }
        ];

        const practiceData = [
            { word: '‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞æ‡∞≤‡±Å ‡∞µ‡±ç‡∞∞‡∞æ‡∞Ø‡∞Ç‡∞°‡∞ø', pronunciation: 'aksharalu vraayandhi', meaning: 'Write the letters', example: '‡∞Ö ‡∞Ü ‡∞á ‡∞à ‡∞µ‡±ç‡∞∞‡∞æ‡∞Ø‡∞Ç‡∞°‡∞ø' },
            { word: '‡∞™‡∞¶‡∞æ‡∞≤‡±Å ‡∞ö‡∞¶‡∞µ‡∞Ç‡∞°‡∞ø', pronunciation: 'padhaalu chadhavandhi', meaning: 'Read the words', example: '‡∞à ‡∞™‡∞¶‡∞æ‡∞≤‡∞®‡±Å ‡∞¨‡∞ø‡∞ó‡±ç‡∞ó‡∞∞‡∞ó‡∞æ ‡∞ö‡∞¶‡∞µ‡∞Ç‡∞°‡∞ø' },
            { word: '‡∞µ‡∞æ‡∞ï‡±ç‡∞Ø‡∞æ‡∞≤‡±Å ‡∞™‡±Ç‡∞∞‡±ç‡∞§‡∞ø ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø', pronunciation: 'vaakyaalu poorti chaeyandhi', meaning: 'Complete the sentences', example: '‡∞®‡±á‡∞®‡±Å _____ ‡∞µ‡±Ü‡∞≥‡±ç‡∞§‡∞æ‡∞®‡±Å' },
            { word: '‡∞Ö‡∞®‡±Å‡∞µ‡∞æ‡∞¶‡∞Ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø', pronunciation: 'anuvaadham chaeyandhi', meaning: 'Translate', example: '‡∞à ‡∞µ‡∞æ‡∞ï‡±ç‡∞Ø‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞á‡∞Ç‡∞ó‡±ç‡∞≤‡±Ä‡∞∑‡±ç‚Äå‡∞≤‡±ã‡∞ï‡∞ø ‡∞Ö‡∞®‡±Å‡∞µ‡∞¶‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø' },
            { word: '‡∞â‡∞ö‡±ç‡∞ö‡∞æ‡∞∞‡∞£ ‡∞Ö‡∞≠‡±ç‡∞Ø‡∞æ‡∞∏‡∞Ç', pronunciation: 'uchchaarana abhyaasam', meaning: 'Pronunciation practice', example: '‡∞∏‡∞∞‡±à‡∞® ‡∞â‡∞ö‡±ç‡∞ö‡∞æ‡∞∞‡∞£‡∞§‡±ã ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞Ç‡∞°‡∞ø' }
        ];

        // Search functionality
        document.getElementById('searchBtn').addEventListener('click', function() {
            const searchInput = document.getElementById('searchInput');
            searchExpanded = !searchExpanded;
            
            if (searchExpanded) {
                searchInput.classList.remove('search-collapsed', 'opacity-0', 'pointer-events-none');
                searchInput.classList.add('search-expanded', 'opacity-100');
                searchInput.focus();
            } else {
                searchInput.classList.add('search-collapsed', 'opacity-0', 'pointer-events-none');
                searchInput.classList.remove('search-expanded', 'opacity-100');
                searchInput.value = '';
                clearSearchResults();
            }
        });

        // Search input functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const query = e.target.value.toLowerCase().trim();
            if (query.length > 0) {
                performSearch(query);
            } else {
                clearSearchResults();
            }
        });

        function performSearch(query) {
            const allData = [
                ...teluguLetters.map(item => ({...item, category: '‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞æ‡∞≤‡±Å', type: 'letters'})),
                ...wordsData.map(item => ({...item, category: '‡∞™‡∞¶‡∞æ‡∞≤‡±Å', type: 'words'})),
                ...numbersData.map(item => ({...item, category: '‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å', type: 'numbers'})),
                ...conversationsData.map(item => ({...item, category: '‡∞∏‡∞Ç‡∞≠‡∞æ‡∞∑‡∞£', type: 'conversations'})),
                ...practiceData.map(item => ({...item, category: '‡∞Ö‡∞≠‡±ç‡∞Ø‡∞æ‡∞∏‡∞Ç', type: 'practice'})),
                ...Object.entries(grammarData).flatMap(([key, items]) => 
                    items.map(item => ({...item, category: '‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£‡∞Ç', type: key}))
                )
            ];

            const results = allData.filter(item => 
                (item.letter && item.letter.includes(query)) ||
                (item.word && item.word.toLowerCase().includes(query)) ||
                (item.pronunciation && item.pronunciation.toLowerCase().includes(query)) ||
                (item.meaning && item.meaning.toLowerCase().includes(query))
            );

            displaySearchResults(results);
        }

        function displaySearchResults(results) {
            const topicsList = document.getElementById('topicsList');
            
            if (results.length === 0) {
                topicsList.innerHTML = `
                    <div class="col-span-full text-center py-8">
                        <div class="text-gray-500 text-lg">‡∞µ‡±Ü‡∞§‡±Å‡∞ï‡±Å‡∞®‡±ç‡∞® ‡∞™‡∞¶‡∞Ç ‡∞¶‡±ä‡∞∞‡∞ï‡∞≤‡±á‡∞¶‡±Å</div>
                        <button onclick="clearSearchResults()" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600">
                            ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞µ‡∞ø‡∞∑‡∞Ø‡∞æ‡∞≤‡±Å ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø
                        </button>
                    </div>
                `;
                return;
            }

            topicsList.innerHTML = results.map(result => `
                <div class="bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-4 cursor-pointer border-l-4 border-blue-500" 
                     onclick="openSearchResult('${result.type}', '${result.category}', '${encodeURIComponent(JSON.stringify(result))}')">
                    <div class="flex items-center mb-2">
                        <span class="text-2xl mr-3">${result.letter || 'üìù'}</span>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-800">${result.letter || result.word}</h3>
                            <p class="text-sm text-blue-600">${result.category}</p>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm">${result.meaning}</p>
                </div>
            `).join('');
        }

        function openSearchResult(type, category, encodedResult) {
            const result = JSON.parse(decodeURIComponent(encodedResult));
            
            // Find the appropriate dataset and index
            let dataset, title, breadcrumb;
            
            if (type === 'letters') {
                dataset = teluguLetters;
                title = '‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞æ‡∞≤‡±Å';
                breadcrumb = '‡∞π‡±ã‡∞Æ‡±ç > ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞æ‡∞≤‡±Å';
            } else if (type === 'words') {
                dataset = wordsData;
                title = '‡∞∞‡±ã‡∞ú‡±Å‡∞µ‡∞æ‡∞∞‡±Ä ‡∞™‡∞¶‡∞æ‡∞≤‡±Å';
                breadcrumb = '‡∞π‡±ã‡∞Æ‡±ç > ‡∞™‡∞¶‡∞æ‡∞≤‡±Å';
            } else if (type === 'numbers') {
                dataset = numbersData;
                title = '‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å';
                breadcrumb = '‡∞π‡±ã‡∞Æ‡±ç > ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å';
            } else if (type === 'conversations') {
                dataset = conversationsData;
                title = '‡∞∞‡±ã‡∞ú‡±Å‡∞µ‡∞æ‡∞∞‡±Ä ‡∞∏‡∞Ç‡∞≠‡∞æ‡∞∑‡∞£‡∞≤‡±Å';
                breadcrumb = '‡∞π‡±ã‡∞Æ‡±ç > ‡∞∏‡∞Ç‡∞≠‡∞æ‡∞∑‡∞£';
            } else if (type === 'practice') {
                dataset = practiceData;
                title = '‡∞Ö‡∞≠‡±ç‡∞Ø‡∞æ‡∞∏ ‡∞µ‡±ç‡∞Ø‡∞æ‡∞Ø‡∞æ‡∞Æ‡∞æ‡∞≤‡±Å';
                breadcrumb = '‡∞π‡±ã‡∞Æ‡±ç > ‡∞Ö‡∞≠‡±ç‡∞Ø‡∞æ‡∞∏‡∞Ç';
            } else {
                dataset = grammarData[type];
                const titles = {
                    pronouns: '‡∞∏‡∞∞‡±ç‡∞µ‡∞®‡∞æ‡∞Æ‡∞æ‡∞≤‡±Å',
                    verbs: '‡∞ï‡±ç‡∞∞‡∞ø‡∞Ø‡∞≤‡±Å',
                    postpositions: '‡∞µ‡∞ø‡∞≠‡∞ï‡±ç‡∞§‡±Å‡∞≤‡±Å',
                    adjectives: '‡∞µ‡∞ø‡∞∂‡±á‡∞∑‡∞£‡∞æ‡∞≤‡±Å',
                    nouns: '‡∞®‡∞æ‡∞Æ‡∞µ‡∞æ‡∞ö‡∞ï‡∞æ‡∞≤‡±Å',
                    adverbs: '‡∞ï‡±ç‡∞∞‡∞ø‡∞Ø‡∞æ ‡∞µ‡∞ø‡∞∂‡±á‡∞∑‡∞£‡∞æ‡∞≤‡±Å'
                };
                title = titles[type];
                breadcrumb = `‡∞π‡±ã‡∞Æ‡±ç > ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£‡∞Ç > ${title}`;
            }
            
            // Find the index of the result in the dataset
            const index = dataset.findIndex(item => 
                (item.letter && item.letter === result.letter) ||
                (item.word && item.word === result.word)
            );
            
            currentView = 'cards';
            currentCardSet = dataset;
            currentCardIndex = index >= 0 ? index : 0;
            
            document.getElementById('topicsList').classList.add('hidden');
            document.getElementById('cardsView').classList.remove('hidden');
            document.getElementById('cardsTitle').textContent = title;
            
            updateBreadcrumb(breadcrumb);
            displayCard();
            
            // Clear search
            document.getElementById('searchInput').value = '';
            searchExpanded = false;
            const searchInput = document.getElementById('searchInput');
            searchInput.classList.add('search-collapsed', 'opacity-0', 'pointer-events-none');
            searchInput.classList.remove('search-expanded', 'opacity-100');
        }

        function clearSearchResults() {
            const topicsList = document.getElementById('topicsList');
            topicsList.innerHTML = `
                <div class="topic-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 cursor-pointer border-l-4 border-blue-500" onclick="openLetters()">
                    <div class="flex items-center mb-3">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
                            <span class="text-2xl">‡∞Ö</span>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-800">‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞æ‡∞≤‡±Å</h3>
                    </div>
                    <p class="text-gray-600">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞µ‡∞∞‡±ç‡∞£‡∞Æ‡∞æ‡∞≤ ‡∞®‡±á‡∞∞‡±ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø</p>
                </div>

                <div class="topic-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 cursor-pointer border-l-4 border-green-500" onclick="openPartsOfSpeech()">
                    <div class="flex items-center mb-3">
                        <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4">
                            <span class="text-2xl">üìù</span>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-800">‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£‡∞Ç</h3>
                    </div>
                    <p class="text-gray-600">‡∞™‡∞¶‡∞æ‡∞≤ ‡∞∞‡∞ï‡∞æ‡∞≤‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£ ‡∞®‡∞ø‡∞Ø‡∞Æ‡∞æ‡∞≤‡±Å</p>
                </div>

                <div class="topic-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 cursor-pointer border-l-4 border-purple-500" onclick="openWords()">
                    <div class="flex items-center mb-3">
                        <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4">
                            <span class="text-2xl">üìö</span>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-800">‡∞™‡∞¶‡∞æ‡∞≤‡±Å</h3>
                    </div>
                    <p class="text-gray-600">‡∞∞‡±ã‡∞ú‡±Å‡∞µ‡∞æ‡∞∞‡±Ä ‡∞µ‡∞æ‡∞°‡±Å‡∞ï‡∞≤‡±ã ‡∞µ‡∞ö‡±ç‡∞ö‡±á ‡∞™‡∞¶‡∞æ‡∞≤‡±Å</p>
                </div>

                <div class="topic-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 cursor-pointer border-l-4 border-red-500" onclick="openNumbers()">
                    <div class="flex items-center mb-3">
                        <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mr-4">
                            <span class="text-2xl">üî¢</span>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-800">‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å</h3>
                    </div>
                    <p class="text-gray-600">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å‡∞≤‡±ã ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å ‡∞®‡±á‡∞∞‡±ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø</p>
                </div>

                <div class="topic-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 cursor-pointer border-l-4 border-yellow-500" onclick="openConversations()">
                    <div class="flex items-center mb-3">
                        <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mr-4">
                            <span class="text-2xl">üí¨</span>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-800">‡∞∏‡∞Ç‡∞≠‡∞æ‡∞∑‡∞£</h3>
                    </div>
                    <p class="text-gray-600">‡∞∞‡±ã‡∞ú‡±Å‡∞µ‡∞æ‡∞∞‡±Ä ‡∞∏‡∞Ç‡∞≠‡∞æ‡∞∑‡∞£‡∞≤‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞µ‡∞æ‡∞ï‡±ç‡∞Ø‡∞æ‡∞≤‡±Å</p>
                </div>

                <div class="topic-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 cursor-pointer border-l-4 border-indigo-500" onclick="openPractice()">
                    <div class="flex items-center mb-3">
                        <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mr-4">
                            <span class="text-2xl">üéØ</span>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-800">‡∞Ö‡∞≠‡±ç‡∞Ø‡∞æ‡∞∏‡∞Ç</h3>
                    </div>
                    <p class="text-gray-600">‡∞µ‡±ç‡∞Ø‡∞æ‡∞Ø‡∞æ‡∞Æ‡∞æ‡∞≤‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑‡∞≤‡±Å</p>
                </div>
            `;
        }

        // Navigation functions
        function updateBreadcrumb(path) {
            const parts = path.split(' > ');
            breadcrumbHistory = parts;
            
            let breadcrumbHTML = '';
            parts.forEach((part, index) => {
                if (index > 0) {
                    breadcrumbHTML += ' <span class="text-gray-300">></span> ';
                }
                
                const isLast = index === parts.length - 1;
                if (isLast) {
                    breadcrumbHTML += `<span class="text-white">${part}</span>`;
                } else {
                    breadcrumbHTML += `<span class="cursor-pointer hover:underline" onclick="navigateToBreadcrumb('${index}')">${part}</span>`;
                }
            });
            
            document.getElementById('breadcrumb').innerHTML = breadcrumbHTML;
        }
        
        function navigateToBreadcrumb(index) {
            if (index === 'home' || index === '0') {
                // Go to home
                currentView = 'topics';
                navigationHistory = ['topics'];
                document.getElementById('cardsView').classList.add('hidden');
                document.getElementById('partsOfSpeechList').classList.add('hidden');
                document.getElementById('topicsList').classList.remove('hidden');
                updateBreadcrumb('‡∞π‡±ã‡∞Æ‡±ç');
            } else if (index === '1') {
                // Go to grammar if that's the second level
                if (breadcrumbHistory[1] === '‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£‡∞Ç') {
                    currentView = 'partsOfSpeech';
                    navigationHistory = ['topics', 'partsOfSpeech'];
                    document.getElementById('cardsView').classList.add('hidden');
                    document.getElementById('topicsList').classList.add('hidden');
                    document.getElementById('partsOfSpeechList').classList.remove('hidden');
                    updateBreadcrumb('‡∞π‡±ã‡∞Æ‡±ç > ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£‡∞Ç');
                }
            }
        }

        function openLetters() {
            currentView = 'cards';
            currentCardSet = teluguLetters;
            currentCardIndex = 0;
            navigationHistory.push('letters');
            
            document.getElementById('topicsList').classList.add('hidden');
            document.getElementById('cardsView').classList.remove('hidden');
            document.getElementById('cardsTitle').textContent = '‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞æ‡∞≤‡±Å';
            
            updateBreadcrumb('‡∞π‡±ã‡∞Æ‡±ç > ‡∞Ö‡∞ï‡±ç‡∞∑‡∞∞‡∞æ‡∞≤‡±Å');
            displayCard();
        }

        function openPartsOfSpeech() {
            currentView = 'partsOfSpeech';
            navigationHistory.push('partsOfSpeech');
            
            document.getElementById('topicsList').classList.add('hidden');
            document.getElementById('partsOfSpeechList').classList.remove('hidden');
            
            updateBreadcrumb('‡∞π‡±ã‡∞Æ‡±ç > ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£‡∞Ç');
        }

        function openWords() {
            currentView = 'cards';
            currentCardSet = wordsData;
            currentCardIndex = 0;
            navigationHistory.push('words');
            
            document.getElementById('topicsList').classList.add('hidden');
            document.getElementById('cardsView').classList.remove('hidden');
            document.getElementById('cardsTitle').textContent = '‡∞∞‡±ã‡∞ú‡±Å‡∞µ‡∞æ‡∞∞‡±Ä ‡∞™‡∞¶‡∞æ‡∞≤‡±Å';
            
            updateBreadcrumb('‡∞π‡±ã‡∞Æ‡±ç > ‡∞™‡∞¶‡∞æ‡∞≤‡±Å');
            displayCard();
        }

        function openNumbers() {
            currentView = 'cards';
            currentCardSet = numbersData;
            currentCardIndex = 0;
            navigationHistory.push('numbers');
            
            document.getElementById('topicsList').classList.add('hidden');
            document.getElementById('cardsView').classList.remove('hidden');
            document.getElementById('cardsTitle').textContent = '‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å';
            
            updateBreadcrumb('‡∞π‡±ã‡∞Æ‡±ç > ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø‡∞≤‡±Å');
            displayCard();
        }

        function openConversations() {
            currentView = 'cards';
            currentCardSet = conversationsData;
            currentCardIndex = 0;
            navigationHistory.push('conversations');
            
            document.getElementById('topicsList').classList.add('hidden');
            document.getElementById('cardsView').classList.remove('hidden');
            document.getElementById('cardsTitle').textContent = '‡∞∞‡±ã‡∞ú‡±Å‡∞µ‡∞æ‡∞∞‡±Ä ‡∞∏‡∞Ç‡∞≠‡∞æ‡∞∑‡∞£‡∞≤‡±Å';
            
            updateBreadcrumb('‡∞π‡±ã‡∞Æ‡±ç > ‡∞∏‡∞Ç‡∞≠‡∞æ‡∞∑‡∞£');
            displayCard();
        }

        function openPractice() {
            currentView = 'cards';
            currentCardSet = practiceData;
            currentCardIndex = 0;
            navigationHistory.push('practice');
            
            document.getElementById('topicsList').classList.add('hidden');
            document.getElementById('cardsView').classList.remove('hidden');
            document.getElementById('cardsTitle').textContent = '‡∞Ö‡∞≠‡±ç‡∞Ø‡∞æ‡∞∏ ‡∞µ‡±ç‡∞Ø‡∞æ‡∞Ø‡∞æ‡∞Æ‡∞æ‡∞≤‡±Å';
            
            updateBreadcrumb('‡∞π‡±ã‡∞Æ‡±ç > ‡∞Ö‡∞≠‡±ç‡∞Ø‡∞æ‡∞∏‡∞Ç');
            displayCard();
        }

        function openCards(type) {
            currentView = 'cards';
            currentCardSet = grammarData[type];
            currentCardIndex = 0;
            navigationHistory.push(type);
            
            const titles = {
                pronouns: '‡∞∏‡∞∞‡±ç‡∞µ‡∞®‡∞æ‡∞Æ‡∞æ‡∞≤‡±Å',
                verbs: '‡∞ï‡±ç‡∞∞‡∞ø‡∞Ø‡∞≤‡±Å',
                postpositions: '‡∞µ‡∞ø‡∞≠‡∞ï‡±ç‡∞§‡±Å‡∞≤‡±Å',
                adjectives: '‡∞µ‡∞ø‡∞∂‡±á‡∞∑‡∞£‡∞æ‡∞≤‡±Å',
                nouns: '‡∞®‡∞æ‡∞Æ‡∞µ‡∞æ‡∞ö‡∞ï‡∞æ‡∞≤‡±Å',
                adverbs: '‡∞ï‡±ç‡∞∞‡∞ø‡∞Ø‡∞æ ‡∞µ‡∞ø‡∞∂‡±á‡∞∑‡∞£‡∞æ‡∞≤‡±Å'
            };
            
            document.getElementById('partsOfSpeechList').classList.add('hidden');
            document.getElementById('cardsView').classList.remove('hidden');
            document.getElementById('cardsTitle').textContent = titles[type];
            
            updateBreadcrumb(`‡∞π‡±ã‡∞Æ‡±ç > ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£‡∞Ç > ${titles[type]}`);
            displayCard();
        }

        function goBack() {
            // Remove current page from history
            navigationHistory.pop();
            
            // Get previous page
            const previousPage = navigationHistory[navigationHistory.length - 1];
            
            if (previousPage === 'topics') {
                currentView = 'topics';
                document.getElementById('cardsView').classList.add('hidden');
                document.getElementById('partsOfSpeechList').classList.add('hidden');
                document.getElementById('topicsList').classList.remove('hidden');
                updateBreadcrumb('‡∞π‡±ã‡∞Æ‡±ç');
            } else if (previousPage === 'partsOfSpeech') {
                currentView = 'partsOfSpeech';
                document.getElementById('cardsView').classList.add('hidden');
                document.getElementById('topicsList').classList.add('hidden');
                document.getElementById('partsOfSpeechList').classList.remove('hidden');
                updateBreadcrumb('‡∞π‡±ã‡∞Æ‡±ç > ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ï‡∞∞‡∞£‡∞Ç');
            }
            
            // Hide voice status when going back
            hideVoiceStatus();
        }

        function displayCard() {
            const card = currentCardSet[currentCardIndex];
            const cardContent = document.getElementById('cardContent');
            
            if (card.letter) {
                // Letter card
                cardContent.innerHTML = `
                    <div class="text-8xl font-bold text-blue-600 mb-4">${card.letter}</div>
                    <div class="text-2xl text-gray-700 mb-2">‡∞â‡∞ö‡±ç‡∞ö‡∞æ‡∞∞‡∞£: ${card.pronunciation}</div>
                    <div class="text-lg text-gray-600">${card.meaning}</div>
                `;
            } else {
                // Grammar card
                cardContent.innerHTML = `
                    <div class="text-6xl font-bold text-green-600 mb-4">${card.word}</div>
                    <div class="text-2xl text-gray-700 mb-2">‡∞â‡∞ö‡±ç‡∞ö‡∞æ‡∞∞‡∞£: ${card.pronunciation}</div>
                    <div class="text-lg text-gray-600 mb-3">‡∞Ö‡∞∞‡±ç‡∞•‡∞Ç: ${card.meaning}</div>
                    <div class="text-md text-blue-600 bg-blue-50 p-3 rounded-lg">‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£: ${card.example}</div>
                `;
            }
            
            document.getElementById('cardCounter').textContent = `${currentCardIndex + 1} / ${currentCardSet.length}`;
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentCardIndex === 0;
            document.getElementById('nextBtn').disabled = currentCardIndex === currentCardSet.length - 1;
            
            if (currentCardIndex === 0) {
                document.getElementById('prevBtn').classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                document.getElementById('prevBtn').classList.remove('opacity-50', 'cursor-not-allowed');
            }
            
            if (currentCardIndex === currentCardSet.length - 1) {
                document.getElementById('nextBtn').classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                document.getElementById('nextBtn').classList.remove('opacity-50', 'cursor-not-allowed');
            }
            
            // Hide voice status when changing cards
            hideVoiceStatus();
        }
        
        function showVoiceStatus(message, type = 'waiting') {
            const voiceStatus = document.getElementById('voiceStatus');
            const voiceStatusText = document.getElementById('voiceStatusText');
            
            voiceStatus.classList.remove('hidden', 'bg-green-500', 'bg-red-500', 'voice-waiting');
            voiceStatus.classList.add('text-white');
            
            if (type === 'waiting') {
                voiceStatus.classList.add('voice-waiting');
            } else if (type === 'correct') {
                voiceStatus.classList.add('bg-green-500');
            } else if (type === 'wrong') {
                voiceStatus.classList.add('bg-red-500');
            }
            
            voiceStatusText.textContent = message;
        }
        
        function hideVoiceStatus() {
            const voiceStatus = document.getElementById('voiceStatus');
            voiceStatus.classList.add('hidden');
            voiceStatus.classList.remove('bg-green-500', 'bg-red-500', 'voice-waiting');
        }

        // Card navigation
        document.getElementById('prevBtn').addEventListener('click', function() {
            if (currentCardIndex > 0) {
                currentCardIndex--;
                displayCard();
            }
        });

        document.getElementById('nextBtn').addEventListener('click', function() {
            if (currentCardIndex < currentCardSet.length - 1) {
                currentCardIndex++;
                displayCard();
            }
        });

        // Sound and voice test buttons
        document.getElementById('soundBtn').addEventListener('click', function() {
            const card = currentCardSet[currentCardIndex];
            const text = card.letter || card.word;
            
            // Try to use Web Speech API for text-to-speech
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'te-IN'; // Telugu language code
                utterance.rate = 0.8;
                utterance.pitch = 1;
                
                // Show notification
                const notification = document.createElement('div');
                notification.className = 'fixed top-4 right-4 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 flex items-center';
                notification.innerHTML = `
                    <svg class="w-5 h-5 mr-2 animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 14.142M6.343 6.343A8 8 0 004.222 12a8.001 8.001 0 002.121 5.657"></path>
                    </svg>
                    "${text}" ‡∞ß‡±ç‡∞µ‡∞®‡∞ø ‡∞™‡±ç‡∞≤‡±á ‡∞Ö‡∞µ‡±Å‡∞§‡±ã‡∞Ç‡∞¶‡∞ø...
                `;
                document.body.appendChild(notification);
                
                utterance.onend = () => {
                    notification.remove();
                };
                
                utterance.onerror = () => {
                    notification.textContent = '‡∞ß‡±ç‡∞µ‡∞®‡∞ø ‡∞™‡±ç‡∞≤‡±á ‡∞ö‡±á‡∞Ø‡∞≤‡±á‡∞ï‡∞™‡±ã‡∞Ø‡∞ø‡∞Ç‡∞¶‡∞ø';
                    setTimeout(() => notification.remove(), 2000);
                };
                
                speechSynthesis.speak(utterance);
                
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        notification.remove();
                    }
                }, 5000);
            } else {
                // Fallback notification
                const notification = document.createElement('div');
                notification.className = 'fixed top-4 right-4 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg z-50';
                notification.textContent = `"${text}" ‡∞ß‡±ç‡∞µ‡∞®‡∞ø ‡∞™‡±ç‡∞≤‡±á ‡∞Ö‡∞µ‡±Å‡∞§‡±ã‡∞Ç‡∞¶‡∞ø...`;
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 2000);
            }
        });

        document.getElementById('voiceTestBtn').addEventListener('click', function() {
            const card = currentCardSet[currentCardIndex];
            const expectedText = card.letter || card.word;
            
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                const recognition = new SpeechRecognition();
                
                recognition.lang = 'te-IN';
                recognition.continuous = false;
                recognition.interimResults = false;
                
                showVoiceStatus(`‡∞µ‡∞æ‡∞Ø‡∞ø‡∞∏‡±ç ‡∞ü‡±Ü‡∞∏‡±ç‡∞ü‡±ç ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞Æ‡±à‡∞Ç‡∞¶‡∞ø... "${expectedText}" ‡∞Ö‡∞®‡∞ø ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞Ç‡∞°‡∞ø!`, 'waiting');
                
                recognition.onresult = function(event) {
                    const spokenText = event.results[0][0].transcript.trim();
                    
                    // Simple comparison (in real app, you'd want more sophisticated matching)
                    const isCorrect = spokenText.includes(expectedText) || 
                                    expectedText.includes(spokenText) ||
                                    spokenText.toLowerCase().includes(expectedText.toLowerCase());
                    
                    if (isCorrect) {
                        showVoiceStatus(`‡∞Ö‡∞¶‡±ç‡∞≠‡±Å‡∞§‡∞Ç! ‡∞Æ‡±Ä ‡∞â‡∞ö‡±ç‡∞ö‡∞æ‡∞∞‡∞£ ‡∞∏‡∞∞‡±à‡∞®‡∞¶‡∞ø. ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞ø‡∞Ç‡∞¶‡∞ø: "${spokenText}"`, 'correct');
                    } else {
                        showVoiceStatus(`‡∞Æ‡∞≥‡±ç‡∞≥‡±Ä ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø. ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞ø‡∞Ç‡∞¶‡∞ø: "${spokenText}"`, 'wrong');
                    }
                    
                    setTimeout(() => {
                        hideVoiceStatus();
                    }, 4000);
                };
                
                recognition.onerror = function(event) {
                    showVoiceStatus('‡∞µ‡∞æ‡∞Ø‡∞ø‡∞∏‡±ç ‡∞∞‡∞ø‡∞ï‡∞æ‡∞∞‡±ç‡∞°‡∞ø‡∞Ç‡∞ó‡±ç‚Äå‡∞≤‡±ã ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø. ‡∞Æ‡∞≥‡±ç‡∞≥‡±Ä ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.', 'wrong');
                    setTimeout(() => hideVoiceStatus(), 3000);
                };
                
                recognition.onend = function() {
                    // Recognition ended
                };
                
                try {
                    recognition.start();
                } catch (error) {
                    showVoiceStatus('‡∞µ‡∞æ‡∞Ø‡∞ø‡∞∏‡±ç ‡∞∞‡∞ø‡∞ï‡∞æ‡∞∞‡±ç‡∞°‡∞ø‡∞Ç‡∞ó‡±ç ‡∞∏‡∞™‡±ã‡∞∞‡±ç‡∞ü‡±ç ‡∞≤‡±á‡∞¶‡±Å.', 'wrong');
                    setTimeout(() => hideVoiceStatus(), 3000);
                }
                
                // Auto-stop after 10 seconds if still listening
                setTimeout(() => {
                    try {
                        recognition.stop();
                    } catch (e) {}
                }, 10000);
                
            } else {
                // Fallback for browsers without speech recognition
                showVoiceStatus('‡∞µ‡∞æ‡∞Ø‡∞ø‡∞∏‡±ç ‡∞ü‡±Ü‡∞∏‡±ç‡∞ü‡±ç ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞Æ‡±à‡∞Ç‡∞¶‡∞ø... ‡∞Æ‡∞æ‡∞ü‡±ç‡∞≤‡∞æ‡∞°‡∞Ç‡∞°‡∞ø!', 'waiting');
                
                setTimeout(() => {
                    showVoiceStatus('‡∞¨‡∞æ‡∞ó‡±Å‡∞Ç‡∞¶‡∞ø! ‡∞Æ‡±Ä ‡∞â‡∞ö‡±ç‡∞ö‡∞æ‡∞∞‡∞£ ‡∞∏‡∞∞‡±à‡∞®‡∞¶‡∞ø.', 'correct');
                    setTimeout(() => {
                        hideVoiceStatus();
                    }, 2000);
                }, 3000);
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (currentView === 'cards') {
                if (e.key === 'ArrowLeft' && currentCardIndex > 0) {
                    currentCardIndex--;
                    displayCard();
                } else if (e.key === 'ArrowRight' && currentCardIndex < currentCardSet.length - 1) {
                    currentCardIndex++;
                    displayCard();
                }
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97efa31a4731968e',t:'MTc1Nzg1MDMxNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
